{{ define "main" }}
<div class="container">
    <div class="homepage-hero">
        <h1 class="site-title">{{ .Site.Title }}</h1>
        <p class="site-tagline">{{ .Content }}</p>
    </div>
    
    <button class="filter-toggle" id="filterToggle" aria-label="{{ i18n "filter_toggle" }}">
        <span class="filter-toggle-icon">‚öô</span>
        <span class="filter-toggle-text">{{ i18n "filter_toggle" }}</span>
    </button>
    
    <div class="filter-tray" id="filterTray">
        <div class="filter-tray-overlay" id="filterTrayOverlay"></div>
        <div class="filter-tray-panel">
            <div class="filter-tray-header">
                <h3 class="filter-tray-title">{{ i18n "filter_tray_title" }}</h3>
                <button class="filter-tray-close" id="filterTrayClose" aria-label="{{ i18n "filter_tray_close" }}">√ó</button>
            </div>
            <div class="filter-container">
                <div class="filter-group">
                    <h4 class="filter-label">{{ i18n "filter_category" }}</h4>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter-type="category" data-filter-value="all">{{ i18n "category_all" }}</button>
                        <button class="filter-btn" data-filter-type="category" data-filter-value="meal">{{ i18n "category_meal" }}</button>
                        <button class="filter-btn" data-filter-type="category" data-filter-value="snack">{{ i18n "category_snack" }}</button>
                        <button class="filter-btn" data-filter-type="category" data-filter-value="topping">{{ i18n "category_topping" }}</button>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h4 class="filter-label">{{ i18n "filter_flavor" }}</h4>
                    <div class="filter-buttons">
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="savory">{{ i18n "flavor_savory" }}</button>
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="sweet">{{ i18n "flavor_sweet" }}</button>
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="neutral">{{ i18n "flavor_neutral" }}</button>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h4 class="filter-label">{{ i18n "filter_cooking_method" }}</h4>
                    <div class="filter-buttons">
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="stovetop">{{ i18n "cooking_method_stovetop" }}</button>
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="oven">{{ i18n "cooking_method_oven" }}</button>
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="specialized">{{ i18n "cooking_method_specialized" }}</button>
                        <button class="filter-btn" data-filter-type="tag" data-filter-value="as-is">{{ i18n "cooking_method_as_is" }}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="recipe-grid">
        {{ range where .Site.RegularPages "Type" "page" }}
        {{ if ne .File.LogicalName "_index.md" }}
        <a href="{{ .Permalink }}" class="recipe-card" 
           data-categories="{{ delimit .Params.categories "," }}"
           data-tags="{{ delimit .Params.tags "," }}">
            {{ if .Params.image }}
            <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" class="recipe-card-image">
            {{ else }}
            <div class="recipe-card-image" style="display: flex; align-items: center; justify-content: center; font-size: 3em;">
                üçΩÔ∏è
            </div>
            {{ end }}
            <div class="recipe-card-content">
                <h3 class="recipe-card-title">{{ .Title }}</h3>
                {{ if or .Params.prepTime .Params.cookTime }}
                <div class="recipe-card-meta">
                    {{ if .Params.prepTime }}<span>‚è±Ô∏è {{ .Params.prepTime }}</span>{{ end }}
                    {{ if .Params.cookTime }}<span>üî• {{ .Params.cookTime }}</span>{{ end }}
                </div>
                {{ end }}
            </div>
        </a>
        {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}
